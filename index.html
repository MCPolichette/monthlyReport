<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<link
			rel="stylesheet"
			href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"
		/>
		<script
			type="text/javascript"
			src="https://www.gstatic.com/charts/loader.js"
		></script>
		<link
			href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
			rel="stylesheet"
			integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
			crossorigin="anonymous"
		/>
		<link rel="icon" type=".gif" href="style/markbounce.gif" />
		<link
			href="https://fonts.googleapis.com/css?family=Roboto&amp;display=swap"
			rel="stylesheet"
		/>

		<title>AvantLink Monthly report v2.0</title>
		<link
			rel="stylesheet"
			type="text/css"
			media="screen"
			href="style/style.css"
		/>
	</head>
	<body>
		<div class="container-sm fixed-top">
			<div id="title" class="row">
				<div class="col-6">
					<h5
						onclick="use_local_storage()"
						class="justify-content-center"
					>
						<strong>AvantLink Merchant Monthly Comparison </strong>
					</h5>
				</div>
			</div>
		</div>
		<div
			class="container-fluid d-flex flex-column min-vh-100 justify-content-center align-items-center"
			id="first_display"
		>
			<div class="row">
				<div class="card shadow p-3 mb-5 bg-white rounded text-center">
					<div class="card-body">
						<div id="passwordHelpBlock" class="form-text">
							Please enter your required API key to continue and
							use this project.
						</div>
						<br />
						<input
							type="password"
							id="password_input"
							class="form-control"
							aria-describedby="passwordHelpBlock"
						/>
						<br />
						<button
							id="firstSubmit"
							type="submit"
							onclick="password_check()"
							class="btn btn-block btn-primary"
						>
							Submit
						</button>
					</div>
				</div>
			</div>
		</div>
		<div
			class="container-fluid d-flex flex-column align-items-center collapse"
		>
			<div class="row" hidden id="monthlyReport">
				<div class="col-12">
					<br />
					<h1>Monthly Report Example</h1>
					<div
						class="accordion shadow p-3 mb-5 bg-white rounded"
						id="reportAccordian"
					>
						<div class="accordion-item">
							<h2 class="accordion-header" id="parameters">
								<button
									class="accordion-button"
									type="button"
									data-bs-toggle="collapse"
									data-bs-target="#collapseOne"
									aria-expanded="true"
									aria-controls="collapseOne"
								>
									<strong>Parameters</strong>
								</button>
							</h2>
							<div
								id="collapseOne"
								class="accordion-collapse collapse show"
								aria-labelledby="parameters"
								data-bs-parent="#reportAccordian"
							>
								<div class="accordion-body">
									<div class="container-fluid">
										<div class="row">
											<h3>
												Please fill out inputs below:
											</h3>
											<div class="col-6">
												<div class="input-group mb-3">
													<span
														class="input-group-text"
														id="merchantId"
														>Merchant Id</span
													>
													<input
														type="text"
														id="merchant_ID_input"
														class="form-control"
														aria-describedby="merchantId"
													/>
												</div>
												<p>
													Selecting the month below,
													will compare this year's
													month with last years.
												</p>
												<p>
													Future iterations will allow
													you to be more specific
												</p>
												<select
													id="selectedMonth"
													class="form-select"
													aria-label="Default select example"
												>
													<option selected>
														Select Month
													</option>
													<option value="-01">
														January
													</option>
													<option value="-02">
														February
													</option>
													<option value="-03">
														March
													</option>
													<option value="-04">
														April
													</option>
													<option value="-05">
														May
													</option>
													<option value="-06">
														June
													</option>
													<option value="-07">
														July
													</option>
													<option value="-08">
														August
													</option>
													<option value="-09">
														September
													</option>
													<option value="-10">
														October
													</option>
													<option value="-11">
														November
													</option>
													<option value="-12">
														December
													</option>
												</select>
												<br />
												<div class="input-group mb-3">
													<span
														class="input-group-text"
														>Year</span
													>
													<input
														id="selectedYear"
														type="text"
														class="form-control"
														aria-describedby="selectedYear"
													/>
												</div>
												<div
													hidden
													id="first_loading_bar"
													class="text-center"
												>
													<h5>Running APIs</h5>
													<div
														class="spinner-border"
														style="
															width: 6rem;
															height: 6rem;
														"
														role="status"
													>
														<span
															class="visually-hidden"
															>Loading...</span
														>
													</div>
												</div>
												<div class="d-grid gap-2">
													<button
														class="btn btn-primary"
														id="submitBtn"
														onclick="perfomance_report()"
														type="button"
													>
														Submit
													</button>
												</div>
											</div>
											<div class="col-6">
												<div
													class="card border-primary mb-3"
												>
													<div class="card-header">
														Base Merchant Info
													</div>
													<div
														class="card-body text-primary"
													>
														<h5
															id="merchantCard"
															class="card-title"
														>
															Merchant
														</h5>
														<ul>
															<li
																id="merchantCardId"
															></li>
															<li>
																Months
																<ul>
																	<li
																		id="merchantCardMonth1"
																	>
																		month1
																	</li>
																	<li
																		id="merchantCardMonth2"
																	>
																		month2
																	</li>
																</ul>
															</li>
															<li>
																Report Type:
																Month Year over
																Year
															</li>
														</ul>
													</div>
												</div>
												<div class="d-grid gap-2">
													<button
														disabled
														id="affiliate_report_button"
														class="btn btn-outline-success"
														onclick="affiliate_report()"
														type="button"
													>
														NEXT STEP: Run API for
														Affiliate Performance
													</button>
												</div>
												<br />
												<div class="d-grid gap-2">
													<button
														disabled
														id="product_report_btn"
														class="btn btn-outline-success"
														onclick="products_sold_report()"
														type="button"
													>
														NEXT STEP: run Product
														Report API
													</button>
												</div>
												<br />
												<div class="d-grid gap-2">
													<button
														disabled
														id="subAffiliate_report_btn"
														class="btn btn-outline-success"
														onclick="subAffiliate_report()"
														type="button"
													>
														NEXT STEP: run Sub-Affiliate Report API
													</button>
												</div>
												<br />
												<div class="d-grid gap-2">
													<button
														disabled
														id="select_affiliates_btn"
														class="btn btn-outline-success"
														data-bs-toggle="collapse"
														data-bs-target="#affiliateDataAccordian"
														aria-expanded="false"
														aria-controls="affiliateDataAccordian"
														type="button"
													>
														NEXT STEP: Select
														Affiliates for specific
														reports:
													</button>
												</div>
											</div>
										</div>
									</div>
								</div>
							</div>
						</div>
						<div class="accordion-item">
							<h2 class="accordion-header" id="Affiliate Data">
								<button
									class="accordion-button collapsed"
									type="button"
									data-bs-toggle="collapse"
									data-bs-target="#affiliateDataAccordian"
									aria-expanded="false"
									aria-controls="affiliateDataAccordian"
								>
									<strong>Affiliate Data and Notes</strong>
								</button>
							</h2>
							<div
								id="affiliateDataAccordian"
								class="accordion-collapse collapse"
								aria-labelledby="Affiliate Data"
								data-bs-parent="#reportAccordian"
							>
								<div class="accordion-body">
									<div class="row">
										<h5>Data for New Affiliates</h5>
										<div class="col-12">
											<!-- MORE QUESTIONS!? -->
											<p>
												The current API doesn't return
												the Affiliate's approval date.
												To report on NEW AFFILIATE, we
												require that you input
												Affilaites that joined the
												Merchant platform manually with
												the inputs below.
											</p>
											<h5 id="newAffMonth1">
												This Month
											</h5>
										</div>
									</div>
									<div class="row">
										<div class="col-6 mx-auto">
											<p>
												To find the Active Affiliates
												report, Log in as the Merchant
												on the Dashboard and navigate:
											</p>
											<p>
												<strong>
													Affiliates > Affiliate
													Program Applications >
													Affiliate Status: ACTIVE >
													Download Affiliates (button)
												</strong>
											</p>
											<p>
												Please download as a .CSV file.
											</p>
											<label
												for="AffCommission"
												class="form-label"
											>
												Affiliate Table to get their
												approval dates</label
											>
											<div class="input-group max-width">
												<input
													class="form-inline alert-danger"
													type="file"
													onchange="read_file(this)"
													id="affiliateFormFile"
												/>
											</div>
											
											</div>
											<div class="col-6">
												<h4>
													Select Notable Performers
												</h4>
												<p>
													In the table below, we will
													list all New Affilaites in
													the last 3 months. You may
													select any 'Notable
													Performers' from the table
													below to be displayed in the
													report.
												</p>
												<table
								id="notablePerformers"
								class="table table-striped centered table-sm"
							>
								<thead>
									<tr>
										<th class="intentionallyBlank">
											Month
										</th>
										<th>Partner ID</th>
										<th >Sales</th>
										</th>
										<th># Of Sales</th>
										<th>Conversion Rate</th>
										<th>Select?</th>
									</tr>
								</thead>
								
							</table>
							<button id="addNotablesBtn" type="button" class="btn btn-lg btn-primary" onclick="updateNotablePerformers()" disabled>Add selected Performers to Report</button>
											</div>
										</div>
									</div>
									<div class="row">
										<div class="col-10">
											<hr />
											<h5>Notes Title:</h5>
											<div class="form-floating">
												<input
													class="form-control"
													type="text"
													placeholder="Default input"
													id="manualTitleText"
													aria-label="Notes Title"
												/>
											</div>
											<div>
												<h5>Notes Text:</h5>
												<textarea
													class="form-control"
													placeholder="NOTES GO HERE!"
													id="manualNotesText"
													wrap="hard"
													style="height: 100px"
												></textarea>
											</div>
											<button
												class="btn btn-primary"
												onclick="addNote()"
												type="button"
											>
												Add Manual Note
											</button>
										</div>
										<!-- </div> -->
									</div>
								</div>
							</div>

							<div class="accordion-item">
								<h2 class="accordion-header" id="reportHeader">
									<button
										class="accordion-button collapsed"
										type="button"
										data-bs-toggle="collapse"
										data-bs-target="#reportAccordian"
										aria-expanded="false"
										aria-controls="reportAccordian"
									>
										<strong> Report</strong>
									</button>
								</h2>
								<div
									id="reportAccordian"
									class="accordion-collapse collapse"
									aria-labelledby="reportHeader"
									data-bs-parent="#reportAccordian"
								>
									<div class="accordion-body">
										Intentionally Blank, Report below:
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div id="report_display" hidden>
				<div class="container-fluid" id="report_pdf">
					<div class="row">
						<div class="col-4">
						<img
							src="assets/AvantLink Logo.png"
							alt="AvantLink Support Help Center home page"
							style="width: 300px"
						/></div>
						<div class="col-8"><br><h4 class="align-middle" id="report_merchant_name">MERCHANT NAME</h4></div>
					</div>
					<div class="row">
						<div class="col-8 test">
							<h5>Quick Stats</h5>
							<table
								id="quickStats"
								class="table table-striped centered table-sm"
							>
								<tbody style="font-size: small">
									<thead id="qstatsHead"></thead>
								</tbody>
							</table>
						</div>
						<div
							class="col-4 justify-content-center align-items-center"
						>
							<br />
							<hr />
							<img
								id="merchant_logo"
								src="https://static.avantlink.com/merchant-logos/10048.png"
								alt="logo"
								style=" max-width: 300px; max-height: 150px; width: auto; height: auto; margin: auto"
								class="img-fluid"
							/>
							<hr />
							
						</div>

						<div class="row align-top">
							<div class="col-6">
								<h5 id="yoySummaryReportHeader">
									Year-over-Year
								</h5>
								<table
									id="yoySummaryReport"
									class="table table-striped centered table-sm"
								>
									<tbody style="font-size: x-small">
										<thead id="yoySummaryTHead"></thead>
									</tbody>
								</table>
							</div>
							<div class="col-6">
								<h5 id="momSummaryReportHeader">
									Month-over-Month
								</h5>
								<table
									id="momSummaryReport"
									class="table table-striped centered table-sm"
								>
									<tbody style="font-size: x-small">
										<thead id="momSummaryTHead"></thead>
									</tbody>
								</table>
							</div>
						</div>
					</div>
					<div class="row">
						<div class="col-12">
							<h5>Monthly Sales Performance</h5>
							<div id="chart1" style="width: auto"></div>
						</div>
					</div>
					<div class="row">
						<br />
						<div class="col-12">
							<h5>Top Affiliate YOY Performances</h5>
							<table
								id="affiliateSummaryReport"
								class="table table-striped centered table-sm"
							>
								<tbody style="font-size: small">
									<thead id="affTableTHead"></thead>
								</tbody>
							</table>
						</div>
					</div>
					
					<div class="row">
						<div id="newAffCol" class="col-6">
							<h5>New Partner Performance</h5>
							<table
								id="newPartnerReport"
								class="table table-striped centered "
							><tbody style="font-size: small">
								<thead id="newPartnerPerformanceTitle">
								
								</thead></tbody>
							</table>
						</div>
					</div>
					<div class="row">
						<div class="col-6">
							<h5>Top Growing YoY Performance</h5>
							<table
								id="growing_report"
								class="table table-striped centered table-sm"
							>
								<tbody style="font-size: x-small">
									<thead id="gTableTHead"></thead>
								</tbody>
							</table>
						</div>
						<div class="col-6">
							<h5>Top Declining YoY Performance</h5>
							<table
								id="declining_report"
								class="table table-striped centered table-sm"
							>
								<tbody style="font-size: x-small">
									<thead id="dTableTHead"></thead>
								</tbody>
							</table>
						</div>
					</div>
					<div class="row">
						<div class="col-12">
							<p>
								*Affiliates with $0 Sales in either period were
								filtered out of the above display
							</p>
							<p>
								NOTE: This report queries performance summary
								details over the reported Month, as well as for
								a time period of the same length exactly one
								year earlier. The two sets of results are then
								used to compute the percent change for each
								statistic.
							</p>
						</div>
					</div>
					<div class="row">
						<br />
						<div class="col-12">
							<h5>Sub Affiliate Report</h5>
							<table
								id="subAffiliateSummaryReport"
								class="table table-striped centered table-sm"
							>
								<tbody style="font-size: small">
									<thead id="subAffTableTHead"></thead>
								</tbody>
							</table>
						</div>
					</div>
					<div id="productsRow" class="row">
						<div class="col-12">
							<h5>Products Sold Report</h5>
							<table
								id="productsSoldReport"
								class="table table-striped centered table-sm"
							><thead id="productTHead"></thead>
								<tbody style="font-size: small">
									
								</tbody>
							</table>
						</div>
					</div>

					<div class="row" id="manual-report-data">
						
							<div class="col-4">
								<br /><button
									type="button"
									onclick="generatePDF()"
									class="btn btn-info"
								>
									Click Button to remove the Menu Option above
									to print as PDF
								</button>
							</div>
						
					</div>
				</div>
				<div class="container-fluid"></div>
			</div>
		</div>

		<script src="assets/API_reports.js"></script>
		<script src="assets/affiliate_scripts.js"></script>
		<script src="assets/build_tables.js"></script>
		<script src="assets/products_scripts.js"></script>
		<script src="assets/app.js"></script>
		<script src="assets/read_file.js"></script>
		<script src="assets/graphs.js"></script>
		<script src="assets/export_files.js"></script>
		<!-- Option 1: Bootstrap Bundle with Popper -->
		<script
			src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
			integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
			crossorigin="anonymous"
		></script>
		<!-- Option 2: Separate Popper and Bootstrap JS -->
		<script
			src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"
			integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p"
			crossorigin="anonymous"
		></script>
		<script
			src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js"
			integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF"
			crossorigin="anonymous"
		></script>
		<script>
			var popoverTriggerList = [].slice.call(
				document.querySelectorAll('[data-bs-toggle="popover"]')
			);
			var popoverList = popoverTriggerList.map(function (
				popoverTriggerEl
			) {
				return new bootstrap.Popover(popoverTriggerEl);
			});
		</script>
	</body>
</html>
